# Manual Testing Checklist - October 16, 2025

**Total Tasks:** 40
**Focus Areas:** Voice Capture AI, Chat Persistence, AI Product Parser, Platform Stability

---

## Voice Capture & AI Integration (Tasks 1-6)

### 1. Test Coach Voice Traits Display
- [ ] Log in as crucibletester1@gmail.com (COACH1)
- [ ] Navigate to coach profile/settings
- [ ] Verify 8 voice traits are visible and saved
- [ ] Check Firebase Console: users/{uid} â†’ voiceTraits array exists

### 2. Test AI Response with Dory Voice
- [ ] Log in as an athlete assigned to COACH1
- [ ] Open AI Coach chat widget (bottom right)
- [ ] Ask: "How should I improve my swimming technique?"
- [ ] Verify response uses Dory-like personality with ocean metaphors
- [ ] Check for catchphrases like "Just keep swimming!"

### 3. Test AI Response with Different Questions
- [ ] Ask: "I'm feeling unmotivated, what should I do?"
- [ ] Ask: "What drills should I practice this week?"
- [ ] Ask: "How do I handle pre-competition anxiety?"
- [ ] Verify each response maintains coach's voice/personality

### 4. Test New Coach Voice Capture Onboarding
- [ ] Create a new coach invitation (admin panel)
- [ ] Open invitation link in incognito window
- [ ] Complete voice capture onboarding flow
- [ ] Fill in communication style, motivation approach, catchphrases
- [ ] Complete profile creation
- [ ] Verify voiceTraits saved in Firebase Console: users/{uid}

### 5. Test AI Without Voice Traits
- [ ] Create a coach invitation WITHOUT voice capture
- [ ] Complete basic onboarding
- [ ] Have an athlete ask them a question via AI
- [ ] Verify AI still responds with generic coaching style

### 6. Test Voice Traits Data Structure
- [ ] Open Firebase Console â†’ users collection
- [ ] Find COACH1 document
- [ ] Verify voiceTraits is an array of strings
- [ ] Verify sport field is populated
- [ ] Check voiceCaptureData exists in invitations collection

---

## Chat Persistence & Real-time Sync (Tasks 7-14)

### 7. Test Chat Persistence Across Sessions
- [ ] Log in as athlete, open AI Coach chat
- [ ] Send 3 messages to your coach
- [ ] Close the chat widget
- [ ] Refresh the page
- [ ] Reopen chat - verify all 3 messages are still there
- [ ] Check timestamps are correct

### 8. Test Chat Persistence Across Devices
- [ ] Log in as athlete on desktop, send 2 messages
- [ ] Log in as same athlete on mobile/different browser
- [ ] Open chat - verify messages appear
- [ ] Send message from mobile
- [ ] Check desktop refreshes with new message

### 9. Test Real-time Chat Updates
- [ ] Open athlete chat on desktop
- [ ] Open Firebase Console â†’ chat_messages collection
- [ ] Manually add a message document with current userId/coachId
- [ ] Verify message appears in chat immediately (no refresh needed)

### 10. Test Clear Chat Functionality
- [ ] Log in as athlete with existing chat history
- [ ] Open AI Coach chat widget
- [ ] Click trash icon in header
- [ ] Confirm deletion prompt
- [ ] Verify all messages are removed from UI
- [ ] Check Firebase Console - chat_messages should be deleted

### 11. Test Chat Message Immutability
- [ ] Open Firebase Console â†’ chat_messages
- [ ] Try to edit an existing message document
- [ ] Verify security rules prevent updates (should fail)
- [ ] Check in browser console for permission error

### 12. Test Coach Can View Athlete Chats (Accountability)
- [ ] Log in as coach
- [ ] Go to Firebase Console â†’ chat_messages collection
- [ ] Filter by coachId = your coach UID
- [ ] Verify you can see all athlete conversations
- [ ] Verify coach can read but not modify messages

### 13. Test Chat Message Length Limits
- [ ] Try sending a very long message (>10,000 characters)
- [ ] Verify error handling or truncation
- [ ] Try sending empty message
- [ ] Verify it's blocked

### 14. Test Chat Scroll Behavior
- [ ] Create a chat with 15+ messages
- [ ] Verify chat auto-scrolls to bottom on new message
- [ ] Manually scroll up
- [ ] Send a new message
- [ ] Verify it scrolls back to bottom

---

## AI Product Link Parser (Tasks 15-24)

### 15. Test Amazon Product Parsing
- [ ] Log in as coach
- [ ] Navigate to Gear Recommendations â†’ Add Gear Recommendation
- [ ] Paste Amazon product URL (Nike shoes example)
- [ ] Click "Parse Link"
- [ ] Verify: name, price, description, image preview, category, tags auto-fill
- [ ] Check price format ($XXX.XX)

### 16. Test Nike.com Product Parsing
- [ ] Paste a Nike.com product URL
- [ ] Click "Parse Link"
- [ ] Verify all fields populate correctly
- [ ] Check image URL is full HTTPS URL (not relative)

### 17. Test Dick's Sporting Goods Parsing
- [ ] Paste a Dick's Sporting Goods URL (basketball, baseball glove, etc.)
- [ ] Verify AI extracts correct category from predefined list
- [ ] Check tags are sport-specific

### 18. Test Under Armour / Adidas Parsing
- [ ] Test with Under Armour product URL
- [ ] Test with Adidas product URL
- [ ] Verify both parse successfully

### 19. Test Invalid URL Handling
- [ ] Try parsing with: "not-a-url"
- [ ] Verify error message displays in red box
- [ ] Try parsing with: "https://google.com"
- [ ] Verify appropriate error message

### 20. Test Empty URL Submission
- [ ] Leave URL field empty
- [ ] Click "Parse Link" button
- [ ] Verify button is disabled OR error shows "Please enter a product URL"

### 21. Test Loading States
- [ ] Paste a valid product URL
- [ ] Click "Parse Link"
- [ ] Verify button shows spinner and "Parsing..." text
- [ ] Verify input field is disabled during parsing
- [ ] Wait for completion and check loading state clears

### 22. Test Manual Edit After Parsing
- [ ] Parse a product URL successfully
- [ ] Manually edit the description field
- [ ] Add 2 extra tags manually
- [ ] Change category dropdown
- [ ] Change price
- [ ] Click "Add Recommendation"
- [ ] Verify gear saves with your manual edits (not AI data)

### 23. Test Image Preview from Parsed Data
- [ ] Parse a product with good product image
- [ ] Verify image preview appears in the modal
- [ ] Upload a different image manually (replace AI image)
- [ ] Verify manual upload takes precedence

### 24. Test Parse Link Then Clear Form
- [ ] Parse a product successfully
- [ ] Click "Cancel" button
- [ ] Reopen the modal
- [ ] Verify form is cleared (not pre-filled with previous data)

---

## Gear Recommendations Full Flow (Tasks 25-28)

### 25. Test Manual Gear Creation (No Parser)
- [ ] Click "Add Gear Recommendation"
- [ ] Fill all fields manually (don't use parser)
- [ ] Upload image manually
- [ ] Add tags manually
- [ ] Click "Add Recommendation"
- [ ] Verify gear appears in your recommendations list

### 26. Test Gear Display on Athlete Side
- [ ] Log in as athlete
- [ ] Navigate to Gear Recommendations page
- [ ] Verify coach's gear items display
- [ ] Click on a gear item
- [ ] Verify affiliate link opens in new tab

### 27. Test Gear Filtering by Sport
- [ ] Add 3 gear items with different sports (soccer, basketball, tennis)
- [ ] Log in as athlete with sport preference
- [ ] Verify filtering works correctly
- [ ] Change sport filter and verify results update

### 28. Test Gear Search Functionality
- [ ] Add 5+ gear items with different names
- [ ] Use search bar to find specific item
- [ ] Verify search works by name, category, tags

---

## Home Button & Navigation (Tasks 29-32)

### 29. Test Coach Home Button
- [ ] Log in as coach
- [ ] Click different sidebar sections (Athletes, Feed, Schedule, Gear)
- [ ] Click Home button (house icon) from each section
- [ ] Verify it routes back to coach home dashboard each time
- [ ] Check URL shows /dashboard/coach/home

### 30. Test Athlete Home Button
- [ ] Log in as athlete
- [ ] Navigate to different sections (Progress, Feed, Gear, etc.)
- [ ] Click Home button from each section
- [ ] Verify routes to athlete dashboard home
- [ ] Check URL shows /dashboard/athlete

### 31. Test Assistant Coach Home Button
- [ ] Log in as assistant coach
- [ ] Navigate through sidebar
- [ ] Test Home button routing
- [ ] Verify lands on correct dashboard

### 32. Test Navigation Persistence
- [ ] Navigate to a specific page (e.g., Feed)
- [ ] Refresh the page
- [ ] Verify you stay on the same page (not redirected to home)

---

## Feed & Posts (Tasks 33-35)

### 33. Test Image Upload in Coach Feed
- [ ] Log in as coach
- [ ] Create a new feed post
- [ ] Add text content
- [ ] Attach an image (JPG, PNG)
- [ ] Click "Post"
- [ ] Verify image uploads successfully
- [ ] Check image displays correctly in feed
- [ ] Verify image loads on athlete feed view

### 34. Test Emoji Reactions on Posts
- [ ] Find a coach feed post
- [ ] Add emoji reactions (ðŸ‘, â¤ï¸, ðŸ”¥, ðŸ’ª, etc.)
- [ ] Verify reaction count increments immediately
- [ ] Refresh page - verify reactions persist
- [ ] Click same emoji again - verify it unreacts

### 35. Test Feed Post Creation Flow
- [ ] Create text-only post
- [ ] Create post with image
- [ ] Create post with video link
- [ ] Verify all post types display correctly
- [ ] Check timestamps are accurate

---

## Invitations & Onboarding (Tasks 36-38)

### 36. Test Athlete Invitation Flow
- [ ] Log in as admin/coach
- [ ] Create new athlete invitation
- [ ] Copy invitation link
- [ ] Open in incognito window
- [ ] Complete athlete onboarding (email, password, profile)
- [ ] Verify account created with role = "athlete"
- [ ] Check Firebase Console: users/{uid}.role === "athlete"

### 37. Test Coach Invitation Flow with Voice Capture
- [ ] Create new coach invitation
- [ ] Open invitation link
- [ ] Complete voice capture step (communication style, catchphrases)
- [ ] Complete profile
- [ ] Verify voiceTraits saved to users collection
- [ ] Check role = "coach" in Firebase

### 38. Test Expired Invitation Handling
- [ ] Find an old invitation in Firebase (invitations collection)
- [ ] Try to use the invitation link
- [ ] Verify appropriate error or redirect

---

## Security & Permissions (Tasks 39-40)

### 39. Test Firestore Security Rules (Chat)
- [ ] Log in as athlete
- [ ] Open browser DevTools â†’ Console
- [ ] Try to query another user's chat_messages (Firebase SDK)
- [ ] Verify read fails with permission error
- [ ] Try to update a chat message
- [ ] Verify update fails (immutable)
- [ ] Try to delete own messages
- [ ] Verify delete succeeds

### 40. Test Role-Based Access Control
- [ ] Log in as athlete
- [ ] Try to access /dashboard/coach URL directly
- [ ] Verify redirect or access denied
- [ ] Log in as coach
- [ ] Try to access admin panel
- [ ] Verify appropriate permissions enforced

---

## Testing Notes & Tips

### Environment Setup
- Use different browsers for multi-user testing (Chrome for coach, Firefox for athlete)
- Use incognito windows to test invitation flows
- Keep Firebase Console open in a separate tab for real-time data verification
- Clear browser cache between major test sections

### What to Document
- Take screenshots of any bugs/errors
- Note any slow performance or loading issues (>3 seconds)
- Record console errors in DevTools
- Note any UI/UX confusion or unclear messaging

### Priority Testing Order
1. **High Priority:** Tasks 1-24 (New features from recent development)
2. **Medium Priority:** Tasks 25-35 (Core platform features)
3. **Low Priority:** Tasks 36-40 (Edge cases and security)

### Success Criteria
- All 40 tasks should pass without critical errors
- Minor UI issues are acceptable if functionality works
- Performance should be responsive (<2 seconds for most actions)
- No console errors during normal operation

---

**Testing Session:** October 16, 2025
**Platform:** Crucible GamePlan
**Version:** Post-AI-Parser Integration
**Tester:** _________________
**Completion Date:** _________________
**Pass Rate:** _____ / 40 tasks
