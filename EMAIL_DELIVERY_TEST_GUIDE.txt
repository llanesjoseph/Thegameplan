â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       EMAIL DELIVERY TESTING GUIDE - SIMPLIFIED
                    AthLeap Platform
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Email Service: Resend
Sender: noreply@mail.crucibleanalytics.dev
API Key Status: âœ… CONFIGURED in .env.local

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
PRE-TESTING CHECKLIST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Before you begin testing, ensure:

â˜‘ Development server is running:
  npm run dev

â˜‘ You have access to an email account for testing:
  Suggested: Use your own email or joseph@crucibleanalytics.dev

â˜‘ You can access Resend Dashboard (optional):
  https://resend.com/emails
  (To verify emails were actually sent by the API)

â˜‘ You have Firebase Console access:
  https://console.firebase.google.com
  (To verify user creation and data)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 1: ATHLETE INVITATION EMAIL â­ (Most Important)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

This is the core email that coaches send to athletes.

STEP-BY-STEP INSTRUCTIONS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Sign in as a Coach
   - Navigate to: http://localhost:3000
   - Sign in with coach credentials
   - OR use superadmin: joseph@crucibleanalytics.dev

2. Navigate to "Invite Athletes"
   - From Coach Dashboard, click "My Athletes" or "Invite Athletes"
   - Or go directly to: http://localhost:3000/dashboard/coach/invite

3. Send Test Invitation
   - Click "Invite Athletes" button
   - Fill in the form:

     Athlete Name: Test Athlete Alpha
     Athlete Email: [YOUR_TEST_EMAIL]
     Sport: Soccer (or any sport)
     Custom Message: Testing athlete invitation email delivery

   - Click "Send Invitation(s)"

4. Check for Success Message
   - You should see: "âœ… Successfully sent 1 invitation(s)!"
   - Check browser console for: "âœ… Athlete invitation sent to..."

5. Verify Email Received
   - Open your email inbox
   - Look for email from: AthLeap <noreply@mail.crucibleanalytics.dev>
   - Subject: "ğŸ† You're Invited to Train with [Coach Name] - AthLeap"

6. Verify Email Content
   âœ“ Athlete name appears correctly
   âœ“ Sport is displayed (Soccer)
   âœ“ Custom message shows
   âœ“ "Join Training Program" button is present
   âœ“ QR code renders (optional scan test)
   âœ“ Expiration date shows (14 days from now)

7. Test the Invitation Link
   - Click "Join Training Program" button in email
   - Should redirect to: http://localhost:3000/athlete-onboard/[INVITATION_ID]
   - You should see athlete onboarding form

8. Verify in Firestore (Optional)
   - Open Firebase Console â†’ Firestore
   - Navigate to: invitations collection
   - Find your invitation document
   - Check fields:
     âœ“ athleteEmail: matches what you entered
     âœ“ status: "pending"
     âœ“ emailSent: true (if field exists)
     âœ“ createdAt: recent timestamp

EXPECTED RESULT:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Email delivered within 5-30 seconds
âœ… All content renders correctly
âœ… Invitation link is functional
âœ… Invitation stored in Firestore

TROUBLESHOOTING:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âŒ No email received?
   â†’ Check spam/junk folder
   â†’ Verify RESEND_API_KEY in .env.local
   â†’ Check Resend dashboard: https://resend.com/emails
   â†’ Look for errors in terminal running npm run dev

âŒ Email went to spam?
   â†’ This is normal for development
   â†’ Mark as "Not Spam" to train your filter
   â†’ Production emails from verified domains won't go to spam

âŒ Link doesn't work?
   â†’ Verify server is still running
   â†’ Check invitation hasn't expired
   â†’ Check invitationId exists in Firestore

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 2: COACH NOTIFICATION EMAIL (Invitation Sent)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

When you send athlete invitations, you (the coach) should also
receive a confirmation email.

STEP-BY-STEP INSTRUCTIONS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. This email is automatically sent when you complete TEST 1

2. Check YOUR coach email inbox (the email you're signed in with)

3. Look for email from: AthLeap <noreply@mail.crucibleanalytics.dev>

4. Subject: "âœ… [X] Athlete Invitation(s) Sent Successfully - AthLeap"

5. Verify Email Content:
   âœ“ Shows count of invitations sent
   âœ“ Lists athlete names
   âœ“ Shows sport (Soccer)
   âœ“ "What happens next?" section appears
   âœ“ "View Your Athletes" button works

EXPECTED RESULT:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Coach receives confirmation email
âœ… Email lists all invited athletes
âœ… "View Your Athletes" button redirects correctly

NOTE: If you don't receive this email, it may be because:
- Your coach account doesn't have an email address in Firestore
- The notification sending failed (check terminal logs)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 3: PASSWORD RESET EMAIL (Welcome Email for Athletes)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

When an athlete accepts an invitation, they receive a welcome
email with a password setup link.

STEP-BY-STEP INSTRUCTIONS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

**IMPORTANT:** This email is NOT the regular Firebase password
reset. It's a custom welcome email sent after onboarding.

Method 1: Test via Athlete Onboarding Flow
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Complete TEST 1 to send yourself an invitation

2. Click the invitation link in the email

3. Fill out athlete onboarding form:
   - Name: Test Athlete Alpha
   - Sport: Soccer
   - Skill Level: Intermediate
   - Submit form

4. Check your email for welcome email:
   - From: AthLeap <noreply@mail.crucibleanalytics.dev>
   - Subject: "ğŸ† Welcome to AthLeap - Set Your Password"

5. Verify Email Content:
   âœ“ Athlete name appears
   âœ“ Coach name appears
   âœ“ Sport is mentioned
   âœ“ "Set Your Password" button exists
   âœ“ Expiration warning (1 hour)

6. Click "Set Your Password"
   - Should redirect to Firebase Auth password reset page
   - Set a password
   - Sign in to athlete dashboard

Method 2: Test Firebase Password Reset
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
This is the standard Firebase password reset email.

1. Go to sign-in page: http://localhost:3000

2. Click "Forgot Password?" link

3. Enter your email address

4. Check email for:
   - From: noreply@athleap-xxxxx.firebaseapp.com
   - Subject: "Reset your password for AthLeap"
   - This email is handled by Firebase Auth, not your custom code

EXPECTED RESULT:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Welcome email received after onboarding
âœ… Password reset link works
âœ… Can successfully set password and sign in

TROUBLESHOOTING:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âŒ No welcome email after onboarding?
   â†’ Check if sendAthleteWelcomeEmail() is called in onboarding API
   â†’ Check terminal logs for errors
   â†’ Verify athlete account was created in Firebase Auth

âŒ Password reset link expired?
   â†’ Links expire after 1 hour
   â†’ Request a new password reset from sign-in page

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TEST 4: ANNOUNCEMENT EMAIL âœ… FULLY IMPLEMENTED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Coaches can send announcements to their athletes via email.
Supports urgent vs normal announcements with different styling.

STEP-BY-STEP INSTRUCTIONS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Prerequisites:
1. Must have at least one athlete associated with your coach account
2. Athlete must have a valid email address in their profile

Testing Steps:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Sign in as a Coach
   - Navigate to: http://localhost:3000
   - Sign in with coach credentials

2. Navigate to Announcements Page
   - From Coach Dashboard, click "Announcements"
   - Or go directly to: http://localhost:3000/dashboard/coach/announcements

3. Create Test Announcement (Normal)
   - Click "Create Announcement" button
   - Fill in the form:
     Title: Practice Schedule Update
     Message: Team practice has been moved to 4:00 PM tomorrow.
     Audience: All Athletes (or select specific sport)
     Urgent: Leave unchecked
   - Click "Send Announcement"

4. Check for Success Message
   - You should see: "âœ… Announcement created and emails sent successfully"
   - Check terminal logs for email sending confirmation

5. Verify Email Received (Normal Announcement)
   - Open athlete's email inbox
   - Look for email from: AthLeap <noreply@mail.crucibleanalytics.dev>
   - Subject: "ğŸ“¢ Practice Schedule Update - [Coach Name]"

6. Verify Email Content (Normal)
   âœ“ Blue gradient banner at top
   âœ“ "ğŸ“¢ New Announcement" header
   âœ“ Athlete name personalized
   âœ“ Coach name appears
   âœ“ Announcement title displayed
   âœ“ Message content formatted correctly
   âœ“ "View Dashboard" button present

7. Create Test Announcement (Urgent)
   - Create another announcement
   - Fill in:
     Title: Game Cancelled
     Message: Tomorrow's game has been cancelled due to weather.
     Audience: All Athletes
     Urgent: Check this box âœ“
   - Click "Send Announcement"

8. Verify Email Received (Urgent Announcement)
   - Open athlete's email inbox
   - Look for email from: AthLeap <noreply@mail.crucibleanalytics.dev>
   - Subject: "ğŸš¨ URGENT: Game Cancelled - [Coach Name]"

9. Verify Email Content (Urgent)
   âœ“ Red gradient banner at top (different from normal)
   âœ“ "ğŸš¨ URGENT ANNOUNCEMENT" header
   âœ“ All content displays correctly
   âœ“ Visual styling indicates urgency

10. Test Sport-Specific Announcements
    - Create announcement
    - Select Audience: Specific Sport
    - Choose Sport: Soccer (or your sport)
    - Send announcement
    - VERIFY: Only athletes in that sport receive email

11. Check Firestore (Optional)
    - Open Firebase Console â†’ Firestore
    - Navigate to: announcements collection
    - Find your announcement document
    - Check fields:
      âœ“ emailsSent: count of successful sends
      âœ“ emailsFailed: count of failed sends
      âœ“ totalRecipients: total athletes targeted
      âœ“ athleteIds: array of UIDs who received email

EXPECTED RESULT:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Announcement emails delivered within 5-30 seconds
âœ… Normal announcements have blue styling
âœ… Urgent announcements have red styling
âœ… All content renders correctly
âœ… "View Dashboard" button works
âœ… Sport filtering works correctly

TROUBLESHOOTING:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âŒ No email received?
   â†’ Check if coach has athletes in roster
   â†’ Verify athlete has email address in Firestore
   â†’ Check spam/junk folder
   â†’ Verify RESEND_API_KEY in .env.local
   â†’ Check Resend dashboard: https://resend.com/emails
   â†’ Look for errors in terminal running npm run dev

âŒ Email went to spam?
   â†’ This is normal for development
   â†’ Mark as "Not Spam" to train your filter
   â†’ Production emails from verified domains won't go to spam

âŒ Only some athletes received email?
   â†’ Check Firestore announcement document for emailsSent vs emailsFailed
   â†’ Verify all athletes have valid email addresses
   â†’ Check terminal logs for specific error messages

âŒ Sport filter not working?
   â†’ Verify athletes have sport field in their user profile
   â†’ Check that sport names match exactly (case-insensitive)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ADDITIONAL EMAIL TESTS (Bonus)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Test 5: Invitation Accepted Notification (Coach receives)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
When an athlete accepts invitation, coach gets notified.

1. Complete athlete onboarding (TEST 3)
2. Coach should receive email:
   - Subject: "ğŸ‰ [Athlete Name] Accepted Your Invitation"
   - Shows athlete details
   - "View Your Athletes" button

Test 6: Resend Invitation Email
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
1. Go to Coach Dashboard â†’ My Athletes
2. Find a pending invitation
3. Click "Resend" button (mail icon)
4. Verify email is sent again
5. Check Firestore for resendCount increment

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TESTING SUMMARY CHECKLIST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

After completing all tests, mark off:

â˜ TEST 1: Athlete Invitation Email
  â˜ Email received in inbox
  â˜ Content displays correctly
  â˜ Invitation link works
  â˜ QR code renders

â˜ TEST 2: Coach Notification Email
  â˜ Confirmation email received
  â˜ Lists all invited athletes
  â˜ "View Athletes" button works

â˜ TEST 3: Password Reset / Welcome Email
  â˜ Welcome email received after onboarding
  â˜ Password setup link works
  â˜ Can sign in after setting password

â˜ TEST 4: Announcement Email
  â˜ Normal announcement email received
  â˜ Urgent announcement email received
  â˜ Different styling for urgent vs normal
  â˜ Sport filtering works correctly
  â˜ Email stats tracked in Firestore

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
VERIFYING EMAILS WERE ACTUALLY SENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

If you want to confirm emails were sent by the server
(even if you didn't receive them in your inbox):

1. Open Resend Dashboard:
   https://resend.com/emails

2. Sign in with Resend account

3. Check "Emails" tab for recent sends

4. You should see:
   - Timestamp of send
   - Recipient email
   - Status: "Delivered" or "Sent"
   - Email subject

This confirms the email was successfully sent from your server.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
COMMON ISSUES & SOLUTIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Issue: All emails go to spam
Solution:
  - This is normal for development
  - Production domain (athleap.crucibleanalytics.dev) is verified
  - Emails won't go to spam in production

Issue: No emails received at all
Solution:
  1. Check .env.local has RESEND_API_KEY
  2. Restart dev server: npm run dev
  3. Check terminal for errors
  4. Verify email address is correct
  5. Check Resend dashboard

Issue: Email links don't work
Solution:
  - Verify NEXT_PUBLIC_APP_URL in .env.local
  - Check server is still running
  - Links use localhost:3000 in development

Issue: QR code doesn't load
Solution:
  - QR codes use external API: qrserver.com
  - May be blocked by ad blockers
  - Not critical for functionality

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
SUCCESS CRITERIA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Your email system is working correctly if:

âœ… Athlete invitation emails arrive within 30 seconds
âœ… Email content displays properly (no broken HTML)
âœ… Invitation links redirect to correct onboarding page
âœ… Coach receives confirmation emails
âœ… Password reset links work for new athletes

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
NOTES FOR PRODUCTION DEPLOYMENT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Before deploying to production (Vercel):

â˜‘ Verify RESEND_API_KEY is set in Vercel environment variables
â˜‘ Confirm sender domain is verified in Resend
â˜‘ Test with real email addresses (not just joseph@crucibleanalytics.dev)
â˜‘ Check spam score: https://www.mail-tester.com
â˜‘ Monitor Resend dashboard for delivery rates

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
NEED HELP?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

If you encounter issues:

1. Check terminal output where npm run dev is running
2. Look for errors like:
   - "Failed to send invitation email"
   - "Resend API error"
   - 401 Unauthorized

2. Check Firestore Console
   - Verify invitation documents exist
   - Check if emailSent field is true

3. Check Resend Dashboard
   - See if emails were actually sent
   - Check delivery status

4. Review email service code:
   - lib/email-service.ts (all email functions)
   - app/api/coach/invite-athletes/route.ts (invitation API)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
END OF EMAIL TESTING GUIDE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Good luck with your testing! ğŸš€

Remember: Focus on TEST 1 (Athlete Invitations) first, as this
is the most critical email for your MVP.
